<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-light bg-light">
        <img src="img/bonjour-sante.inline.svg" id="inline" alt="medical team of the clinic" class="img-fluid">
    </nav>

    <!-- Patient Profile Heading -->
    <div class="container mt-5">
        <h1 class="text-center mb-4">Patient Profile</h1>

        <!-- Profile Information Card -->
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Personal Information</h5>
                <p class="card-text">
                    <strong>Name:</strong> <span id="name">John</span> <br>
                    <strong>Family Name:</strong> <span id="familyName">Doe</span> <br>
                    <strong>Date of Birth:</strong> <span id="dob">01/01/1980</span> <br>
                    <strong>RAMQ Number:</strong> <span id="ramqNumber">1234-5678-9012</span> <br>
                    <strong>Address:</strong> <span>Street Street City, H1H1H1, Canada</span> <br>
                    <strong>Phone Number:</strong> 514-514-5145 <br>
                    <strong>Email:</strong> bob@bob.bob <br>
                    <strong>Allergies:</strong> Penicillin, Dust <br>
                    <strong>Medical History:</strong> Hypertension, Asthma <br>
                </p>
            </div>
        </div>

        <!-- "View Documents" Button -->
        <div class="mt-4">
            <h5>View Your Medical Documents</h5>
            <button class="btn btn-info" data-bs-toggle="modal" data-bs-target="#documentsModal" onclick="openDocumentsModal()">View Documents</button>
        </div>

        <!-- Document Modal -->
        <div class="modal fade" id="documentsModal" tabindex="-1" aria-labelledby="documentsModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="documentsModalLabel">Your Medical Documents</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <ul id="documents-list">
                            <!-- List of documents will be dynamically populated here -->
                        </ul>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" onclick="printDocuments()">Print</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Edit Section (Optional) -->
        <div class="mt-4">
            <h5>Edit Profile Information</h5>
            <div>
                <div class="mb-3">
                    <label for="addressInput" class="form-label">Address</label>
                    <input type="text" class="form-control" id="addressInput" value="123 Main Street, Cityville" >
                </div>
                <div class="mb-3">
                    <label for="phoneInput" class="form-label">Phone Number</label>
                    <input type="text" class="form-control" id="phoneInput" value="(123) 456-7890">
                </div>
                <div class="mb-3">
                    <label for="emailInput" class="form-label">Email</label>
                    <input type="email" class="form-control" id="emailInput" value="john.doe@example.com">
                </div>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="mt-5 bg-light py-3 text-center">
        <p>Contact us: info@bonjour-sante.com | +123 456 7890</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Sample documents associated with the patient's appointment
        const documents = [
            { name: "Prescription.pdf", link: "path/to/prescription.pdf" },
            { name: "LabResults.pdf", link: "path/to/labresults.pdf" },
            { name: "XRayImage.jpg", link: "path/to/xrayimage.jpg" }
        ];

        // Function to populate the document modal with list of available documents
        function openDocumentsModal() {
            const documentList = document.getElementById('documents-list');
            documentList.innerHTML = ''; // Clear previous list items

            // Loop through documents and add them to the modal
            documents.forEach(function(doc) {
                let listItem = document.createElement('li');
                let link = document.createElement('a');
                link.href = doc.link;
                link.textContent = doc.name;
                link.classList.add('text-primary');
                link.style.textDecoration = 'underline';
                link.setAttribute('target', '_blank');
                listItem.appendChild(link);
                documentList.appendChild(listItem);
            });
        }

        // Function to simulate printing the documents
        function printDocuments() {
            let printContent = document.getElementById('documents-list').innerHTML;
            let printWindow = window.open('', '', 'height=500,width=800');
            printWindow.document.write('<html><head><title>Print Documents</title></head><body>');
            printWindow.document.write('<h1>Medical Documents</h1>');
            printWindow.document.write('<ul>' + printContent + '</ul>');
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.print();
        }
    </script>
</body>
</html>
